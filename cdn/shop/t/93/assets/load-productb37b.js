(function(){let PRODUCT_VARIANTS="";$(document).ready(function(){$("#add_on_overlay_content a.rec-main-product").click(function(e){e.preventDefault(),loadProductByHandle($(this).attr("href"))})});function setupEvents(){const $genderSwatchElements=$("#add_on_overlay_content .gender-swatch-element"),$styleSelect=$("#add_on_overlay_content select.pdp-2019-style-select"),$productTypeSelect=$("#add_on_overlay_content a.product-type--anchor"),$sizeSelector=$("#add_on_overlay_content .swatch-element__input");$("#add_on_overlay_content .close .no-thanks").hide(),$("#add_on_overlay_content .close .back-to-cart").show(),$("#add_on_overlay #add_on_overlay_content").addClass("product-loaded"),$genderSwatchElements.off("click"),$genderSwatchElements.click(function(e){e.preventDefault(),!$(this).hasClass("gender-swatch-element-active")&&loadProductByHandle($(this).attr("href"))}),$styleSelect.off("change"),$styleSelect.change(function(e){e.preventDefault(),loadProductByHandle($(this).val())}),$productTypeSelect.off("click"),$productTypeSelect.click(function(e){e.preventDefault(),loadProductByHandle($(this).attr("href"))}),$sizeSelector.off("change"),$sizeSelector.change(function(){$(".swatch-element.swatch-element--active").removeClass("swatch-element--active"),$(this).closest(".swatch-element").addClass("swatch-element--active");const selectedVarientId=selectVariantId();PRODUCT_VARIANTS.forEach(function(variant){if(variant.id==selectedVarientId){const thisVariantPrice=theme.Currency.formatMoney(variant.price,theme.moneyFormat);$('form.product-form span[id^="ProductPrice"]').html(thisVariantPrice)}})});function selectVariantId(){const selectedVariants={};$('[id^="AddToCartForm"]').serializeArray().map(option=>{selectedVariants[option.name]=option.value});const selectedVariantName=""+selectedVariants["option-0"]+" / "+selectedVariants["option-1"]+" / "+selectedVariants["option-2"];console.log(selectedVariantName);const $variantOptions=$('form[id^="AddToCartForm"] select[id^="ProductSelect"] option');$variantOptions.removeAttr("selected");let selectedVarientId="";return $variantOptions.each(function(){$.trim($(this).text())==selectedVariantName&&($(this).attr("selected","selected"),selectedVarientId=$(this).val())}),selectedVarientId}$("#add_on_overlay_content .btn-pdp-2019-add-to-cart").click(function(e){console.log("add_on_overlay_content btn-pdp-2019-add-to-cart click"),e.preventDefault();const selectedVariantId=selectVariantId();$("#rec_product_loader").show();const params={type:"POST",url:"/cart/add.js",data:"id="+selectedVariantId,dataType:"json",success:function(){window.location.reload()}};jQuery.ajax(params)});for(let i=0;i<3;i++){const $swatchInput=$('[id^="AddToCartForm-"] [name^="option-'+i+'"]:first');$swatchInput.attr("checked",!0),$swatchInput.closest(".swatch-element").addClass("swatch-element--active")}}function loadProductByHandle(handle){const $productSection=$("#add_on_overlay_content section.product-template"),$loader=$("#rec_product_loader");$loader.show(),$.get("https://teefury.com"+handle,function(data){$loader.hide();const pdpHtml=$(data).find("#ProductSection-product-template-2019").get(0).outerHTML;$("#add_on_overlay_content .rec-products-list").hide(),$("#add_on_overlay_content #product_details").html(pdpHtml),setupEvents(),PRODUCT_VARIANTS=JSON.parse($('[id^="ProductJson-"]').html()).variants,setTimeout(function(){$loader.hide()},500)})}})();
//# sourceMappingURL=/cdn/shop/t/93/assets/load-product.js.map?v=118480060464072742771715754318
