(function($){this.reorder=new function(){var self=this;this.pushQueue=function(i,data,el){data[i].check_inventory&&(data[i].quantity=Math.min(parseInt(data[i].inventory),parseInt(data[i].quantity))),$.ajax({url:"/cart/add.js",method:"POST",data:{quantity:data[i].quantity,id:data[i].id},complete:function(res){if(i>=data.length-1){el.removeClass("loading"),window.location.href="/cart";return}else self.pushQueue(i+1,data,el)}})},this.listen=function(){var el=$(this),ids=el.attr("data-variant-ids").split(","),quantities=el.attr("data-variant-quantities").split(","),inventories=el.attr("data-variant-inventories").split(","),inventory_policies=el.attr("data-variant-inventory-policies").split(","),inventory_trackers=el.attr("data-variant-inventory-trackers").split(",");ids.splice(-1,1),quantities.splice(-1,1),inventories.splice(-1,1),inventory_policies.splice(-1,1),inventory_trackers.splice(-1,1);for(var data=[],i=0;i<ids.length;i++)data.push({id:ids[i],quantity:quantities[i],inventory:inventories[i],check_inventory:inventory_policies[i]=="deny"&&inventory_trackers[i]!=""});el.addClass("loading"),self.pushQueue(0,data,el)},this.init=function(){$(".reorder-btn").on("click",self.listen)}},$(reorder.init)})(jQuery);
//# sourceMappingURL=/cdn/shop/t/93/assets/reorder_custom.js.map?v=120251286113117739251715754318
